<head>
  <title>chatroom</title>
</head>

<body>
  <div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container-fluid">

        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </a>

        <!-- Be sure to leave the brand out there if you want it shown -->
        <a class="brand" href="/">Chatroom</a>

        <!-- Everything you want hidden at 940px or less, place within here -->
        <div class="nav-collapse">
          <ul class="nav">
            <li class="active">
              <a href="/">Rooms</a>
            </li>
            <li>
              <a data-toggle="modal" href="#createRoomModal">Create room</a>
            </li>
          </ul>
          {{> login_links}}
          {{> search_rooms}}
          <!-- .nav, .navbar-search, .navbar-form, etc -->
        </div>

      </div>
    </div>
  </div>

  <div class="container-fluid">
    <div class="row-fluid">
      {{> main}}
    </div>
  </div>
</div>
{{> add_room}}
{{> login_modal}}
</body>

<template name="search_rooms">
  <form class="navbar-search pull-right">
    <input type="search" class="search-query" id="search-query" placeholder="[f]ind room">
  </form>
</template>

<template name="main">
  <div class="span12">
    {{# if selected_room}}
      {{> chatroom}}
    {{else}}
      {{> roomboard}}
    {{/if}}
  </div>
</template>

<template name="login_links">
  <ul class="nav pull-right">
    {{#if user_logged_in}}
    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown">{{user}}
        <b class="caret"></b>
      </a>
      <ul class="dropdown-menu">
        <li>
          <a href="#" id="logoutUser">Logout</a>
        </li>
      </ul>
    </li>
    {{else}}
    <li>
      <a href="#" id="loginUser">Login</a>
    </li>
    {{/if}}
  </ul>
</template>

<template name="login_modal">
  <div class="modal hide fade" id="loginModal">
  <form>
    <div class="modal-header">
      <a class="close" data-dismiss="modal">Ã—</a>
      <h3>Login</h3>
    </div>
    <div class="modal-body">
      <div class="form-horizontal">
        <fieldset>
          <div class="control-group">
            <label class="control-label" for="name">Username</label>
            <div class="controls">
              <input type="text" class="input-xlarge" name="login">
            </div>
          </div>
          <div class="control-group">
            <label class="control-label" for="name">Password</label>
            <div class="controls">
              <input type="password" class="input-xlarge" name="password">
            </div>
          </div>
        </fieldset>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn" data-dismiss="modal">Cancel</button>
      <button type="submit" class="btn btn-primary">Login</button>
    </div>
  </form>
  </div>
</template>
